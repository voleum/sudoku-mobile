# 2.1.6 –î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (i18n)

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 19 —Å–µ–Ω—Ç—è–±—Ä—è 2025
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π**: voleum

---

## üìã –û–±–∑–æ—Ä

–î–µ—Ç–∞–ª—å–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ (i18n) –¥–ª—è –∫—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–π –∏–≥—Ä—ã –°—É–¥–æ–∫—É, –≤–∫–ª—é—á–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤, workflow –ø–µ—Ä–µ–≤–æ–¥–æ–≤, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ RTL –ø–æ–¥–¥–µ—Ä–∂–∫–∏.

---

## üåç –Ø–∑—ã–∫–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –≠—Ç–∞–ø 1: MVP (–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞)
- **üá∑üá∫ –†—É—Å—Å–∫–∏–π (ru)** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **üá∫üá∏ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π (en)** - –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π —è–∑—ã–∫

### –≠—Ç–∞–ø 2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ (Post-launch)
- **üá©üá™ –ù–µ–º–µ—Ü–∫–∏–π (de)** - –∫—Ä—É–ø–Ω—ã–π –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Ä—ã–Ω–æ–∫
- **üá´üá∑ –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π (fr)** - –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Ä—ã–Ω–æ–∫
- **üá™üá∏ –ò—Å–ø–∞–Ω—Å–∫–∏–π (es)** - –ª–∞—Ç–∏–Ω–æ–∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π —Ä—ã–Ω–æ–∫
- **üá®üá≥ –ö–∏—Ç–∞–π—Å–∫–∏–π —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π (zh-CN)** - –∞–∑–∏–∞—Ç—Å–∫–∏–π —Ä—ã–Ω–æ–∫

### –≠—Ç–∞–ø 3: RTL –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–ë—É–¥—É—â–µ–µ)
- **üá∏üá¶ –ê—Ä–∞–±—Å–∫–∏–π (ar)** - RTL —è–∑—ã–∫
- **üáÆüá± –ò–≤—Ä–∏—Ç (he)** - RTL —è–∑—ã–∫

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤:

```
src/
‚îî‚îÄ‚îÄ localization/
    ‚îú‚îÄ‚îÄ index.ts                    # –û—Å–Ω–æ–≤–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç i18n
    ‚îú‚îÄ‚îÄ i18n.ts                     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è i18next
    ‚îú‚îÄ‚îÄ types.ts                    # TypeScript —Ç–∏–ø—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
    ‚îú‚îÄ‚îÄ utils/                      # –£—Ç–∏–ª–∏—Ç—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ dateFormatting.ts      # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
    ‚îÇ   ‚îú‚îÄ‚îÄ numberFormatting.ts    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
    ‚îÇ   ‚îú‚îÄ‚îÄ pluralization.ts       # –ü—Ä–∞–≤–∏–ª–∞ –ø–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏–∏
    ‚îÇ   ‚îî‚îÄ‚îÄ languageDetection.ts   # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
    ‚îú‚îÄ‚îÄ hooks/                      # React hooks –¥–ª—è i18n
    ‚îÇ   ‚îú‚îÄ‚îÄ useTranslation.ts      # –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
    ‚îÇ   ‚îú‚îÄ‚îÄ useLocale.ts           # –•—É–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å—é
    ‚îÇ   ‚îî‚îÄ‚îÄ useNumberFormat.ts     # –•—É–∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–µ–ª
    ‚îú‚îÄ‚îÄ locales/                    # –§–∞–π–ª—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤
    ‚îÇ   ‚îú‚îÄ‚îÄ en/                    # –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common.json        # –û–±—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ game.json          # –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui.json            # UI —ç–ª–µ–º–µ–Ω—Ç—ã
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu.json          # –ú–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.json      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ achievements.json  # –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tutorial.json      # –û–±—É—á–µ–Ω–∏–µ
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errors.json        # –û—à–∏–±–∫–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è
    ‚îÇ   ‚îú‚îÄ‚îÄ ru/                    # –†—É—Å—Å–∫–∏–π (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common.json
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ game.json
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui.json
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu.json
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings.json
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ achievements.json
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tutorial.json
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errors.json
    ‚îÇ   ‚îî‚îÄ‚îÄ index.ts               # –ò–º–ø–æ—Ä—Ç –≤—Å–µ—Ö –ª–æ–∫–∞–ª–µ–π
    ‚îú‚îÄ‚îÄ rtl/                       # RTL –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–±—É–¥—É—â–µ–µ)
    ‚îÇ   ‚îú‚îÄ‚îÄ styles.ts              # RTL —Å—Ç–∏–ª–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ detection.ts           # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ RTL
    ‚îÇ   ‚îî‚îÄ‚îÄ transforms.ts          # –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è RTL
    ‚îî‚îÄ‚îÄ resources/                 # –†–µ—Å—É—Ä—Å—ã –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏
        ‚îú‚îÄ‚îÄ fonts/                 # –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã
        ‚îú‚îÄ‚îÄ images/                # –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        ‚îî‚îÄ‚îÄ audio/                 # –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–≤—É–∫–∏
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è i18next

```typescript
// src/localization/i18n.ts
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import { NativeModules, Platform } from 'react-native';

// –ò–º–ø–æ—Ä—Ç –ø–µ—Ä–µ–≤–æ–¥–æ–≤
import enTranslations from './locales/en';
import ruTranslations from './locales/ru';

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
const getDeviceLanguage = (): string => {
  let locale = 'en'; // fallback

  if (Platform.OS === 'ios') {
    locale = NativeModules.SettingsManager?.settings?.AppleLocale
      || NativeModules.SettingsManager?.settings?.AppleLanguages?.[0]
      || 'en';
  } else {
    locale = NativeModules.I18nManager?.localeIdentifier || 'en';
  }

  return locale.substring(0, 2); // –ü–æ–ª—É—á–∞–µ–º –∫–æ–¥ —è–∑—ã–∫–∞
};

const supportedLanguages = ['en', 'ru'];
const fallbackLanguage = 'en';

i18n
  .use(initReactI18next)
  .init({
    resources: {
      en: enTranslations,
      ru: ruTranslations,
    },
    lng: getDeviceLanguage(),
    fallbackLng: fallbackLanguage,
    supportedLngs: supportedLanguages,

    // Namespace configuration
    defaultNS: 'common',
    ns: ['common', 'game', 'ui', 'menu', 'settings', 'achievements', 'tutorial', 'errors'],

    interpolation: {
      escapeValue: false, // React already escapes
    },

    // Debug mode for development
    debug: __DEV__,

    // Caching
    cache: {
      enabled: true,
    },

    // Pluralization
    pluralSeparator: '_',
    contextSeparator: '_',
  });

export default i18n;
```

### TypeScript —Ç–∏–ø—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```typescript
// src/localization/types.ts
export interface TranslationResource {
  common: typeof import('./locales/en/common.json');
  game: typeof import('./locales/en/game.json');
  ui: typeof import('./locales/en/ui.json');
  menu: typeof import('./locales/en/menu.json');
  settings: typeof import('./locales/en/settings.json');
  achievements: typeof import('./locales/en/achievements.json');
  tutorial: typeof import('./locales/en/tutorial.json');
  errors: typeof import('./locales/en/errors.json');
}

export type SupportedLanguage = 'en' | 'ru' | 'de' | 'fr' | 'es' | 'zh-CN';
export type RTLLanguage = 'ar' | 'he';

export interface LocaleConfig {
  code: SupportedLanguage;
  name: string;
  nativeName: string;
  isRTL: boolean;
  dateFormat: string;
  numberFormat: {
    decimal: string;
    thousands: string;
  };
}

export interface GameTranslationKeys {
  // –£—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
  difficulty: {
    easy: string;
    medium: string;
    hard: string;
    expert: string;
  };

  // –ò–≥—Ä–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
  actions: {
    newGame: string;
    continueGame: string;
    pauseGame: string;
    resumeGame: string;
    giveUp: string;
    hint: string;
    undo: string;
    redo: string;
    clear: string;
    notes: string;
  };

  // –°–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã
  status: {
    inProgress: string;
    completed: string;
    paused: string;
    failed: string;
  };

  // –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
  time: {
    seconds: string;
    minutes: string;
    hours: string;
  };
}
```

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### –ü—Ä–∏–º–µ—Ä: game.json (—Ä—É—Å—Å–∫–∏–π)

```json
{
  "difficulty": {
    "easy": "–õ–µ–≥–∫–∏–π",
    "medium": "–°—Ä–µ–¥–Ω–∏–π",
    "hard": "–°–ª–æ–∂–Ω—ã–π",
    "expert": "–≠–∫—Å–ø–µ—Ä—Ç"
  },

  "actions": {
    "newGame": "–ù–æ–≤–∞—è –∏–≥—Ä–∞",
    "continueGame": "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏–≥—Ä—É",
    "pauseGame": "–ü–∞—É–∑–∞",
    "resumeGame": "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å",
    "giveUp": "–°–¥–∞—Ç—å—Å—è",
    "hint": "–ü–æ–¥—Å–∫–∞–∑–∫–∞",
    "undo": "–û—Ç–º–µ–Ω–∏—Ç—å",
    "redo": "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å",
    "clear": "–û—á–∏—Å—Ç–∏—Ç—å",
    "notes": "–ó–∞–º–µ—Ç–∫–∏"
  },

  "status": {
    "inProgress": "–í –ø—Ä–æ—Ü–µ—Å—Å–µ",
    "completed": "–ó–∞–≤–µ—Ä—à–µ–Ω–∞",
    "paused": "–ù–∞ –ø–∞—É–∑–µ",
    "failed": "–ü—Ä–æ–≤–∞–ª–µ–Ω–∞"
  },

  "time": {
    "seconds_zero": "{{count}} —Å–µ–∫—É–Ω–¥",
    "seconds_one": "{{count}} —Å–µ–∫—É–Ω–¥–∞",
    "seconds_few": "{{count}} —Å–µ–∫—É–Ω–¥—ã",
    "seconds_many": "{{count}} —Å–µ–∫—É–Ω–¥",
    "minutes_zero": "{{count}} –º–∏–Ω—É—Ç",
    "minutes_one": "{{count}} –º–∏–Ω—É—Ç–∞",
    "minutes_few": "{{count}} –º–∏–Ω—É—Ç—ã",
    "minutes_many": "{{count}} –º–∏–Ω—É—Ç",
    "hours_zero": "{{count}} —á–∞—Å–æ–≤",
    "hours_one": "{{count}} —á–∞—Å",
    "hours_few": "{{count}} —á–∞—Å–∞",
    "hours_many": "{{count}} —á–∞—Å–æ–≤"
  },

  "completion": {
    "congratulations": "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!",
    "timeRecord": "–ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥ –≤—Ä–µ–º–µ–Ω–∏: {{time}}",
    "perfectGame": "–ò–¥–µ–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ –±–µ–∑ –æ—à–∏–±–æ–∫!",
    "hintsUsed": "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –ø–æ–¥—Å–∫–∞–∑–æ–∫: {{count}}",
    "share": "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º"
  },

  "tutorial": {
    "welcome": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –°—É–¥–æ–∫—É!",
    "step1": "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–∞–∂–¥—É—é —è—á–µ–π–∫—É —Ü–∏—Ñ—Ä–æ–π –æ—Ç 1 –¥–æ 9",
    "step2": "–í –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —Ü–∏—Ñ—Ä—ã –æ—Ç 1 –¥–æ 9",
    "step3": "–í –∫–∞–∂–¥–æ–º —Å—Ç–æ–ª–±—Ü–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —Ü–∏—Ñ—Ä—ã –æ—Ç 1 –¥–æ 9",
    "step4": "–í –∫–∞–∂–¥–æ–º –±–ª–æ–∫–µ 3√ó3 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —Ü–∏—Ñ—Ä—ã –æ—Ç 1 –¥–æ 9",
    "tryIt": "–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏!",
    "good": "–û—Ç–ª–∏—á–Ω–æ!",
    "hint": "–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –±–ª–æ–∫ –≤ –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É"
  }
}
```

---

## üéØ Workflow –ø–µ—Ä–µ–≤–æ–¥–æ–≤

### 1. –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```mermaid
graph TD
    A[–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π –∫–ª—é—á] --> B[–û–±–Ω–æ–≤–ª—è–µ—Ç en.json]
    B --> C[–°–æ–∑–¥–∞–µ—Ç Issue –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤]
    C --> D[–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç]
    D --> E[PR —Å –ø–µ—Ä–µ–≤–æ–¥–æ–º]
    E --> F[Code review]
    F --> G[Merge –≤ main]
    G --> H[–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ]
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```bash
# scripts/i18n-check.js - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
npm run i18n:check

# scripts/i18n-extract.js - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–ª—é—á–µ–π –∏–∑ –∫–æ–¥–∞
npm run i18n:extract

# scripts/i18n-validate.js - –≤–∞–ª–∏–¥–∞—Ü–∏—è JSON —Ñ–∞–π–ª–æ–≤
npm run i18n:validate
```

### 3. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤

- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞**: –ø—Ä–æ—Å—Ç–∞—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –ø–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞

---

## üì± –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

### iOS —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞

```typescript
// src/localization/utils/iosLocalization.ts
import { NativeModules } from 'react-native';

export const getIOSPreferredLanguages = (): string[] => {
  return NativeModules.SettingsManager?.settings?.AppleLanguages || ['en'];
};

export const getIOSNumberFormatting = () => {
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ iOS NSNumberFormatter
  return {
    decimal: NativeModules.SettingsManager?.settings?.AppleLocale?.includes(',') ? ',' : '.',
    thousands: NativeModules.SettingsManager?.settings?.AppleLocale?.includes(',') ? '.' : ','
  };
};
```

### Android —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞

```typescript
// src/localization/utils/androidLocalization.ts
import { NativeModules } from 'react-native';

export const getAndroidLocale = (): string => {
  return NativeModules.I18nManager?.localeIdentifier || 'en-US';
};

export const getAndroidTimeFormat = (): '12h' | '24h' => {
  // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ Android
  return NativeModules.SettingsManager?.is24Hour ? '24h' : '12h';
};
```

---

## üîÑ RTL –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ RTL

```typescript
// src/localization/rtl/detection.ts
export const isRTLLanguage = (language: string): boolean => {
  const rtlLanguages = ['ar', 'he', 'fa', 'ur'];
  return rtlLanguages.includes(language);
};

// src/localization/rtl/styles.ts
export const getRTLStyles = (isRTL: boolean) => ({
  container: {
    flexDirection: isRTL ? 'row-reverse' : 'row',
  },
  text: {
    textAlign: isRTL ? 'right' : 'left',
    writingDirection: isRTL ? 'rtl' : 'ltr',
  },
});
```

### React Native RTL –ø–æ–¥–¥–µ—Ä–∂–∫–∞

```typescript
// App.tsx - –æ—Å–Ω–æ–≤–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ RTL
import { I18nManager } from 'react-native';
import { getCurrentLanguage } from './src/localization';

useEffect(() => {
  const currentLang = getCurrentLanguage();
  const shouldBeRTL = isRTLLanguage(currentLang);

  if (I18nManager.isRTL !== shouldBeRTL) {
    I18nManager.forceRTL(shouldBeRTL);
    // –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    RNRestart.Restart();
  }
}, []);
```

---

## üìä –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –î–∞—Ç—ã –∏ –≤—Ä–µ–º—è

```typescript
// src/localization/utils/dateFormatting.ts
import { format } from 'date-fns';
import { ru, enUS, de, fr, es, zhCN } from 'date-fns/locale';

const locales = {
  ru: ru,
  en: enUS,
  de: de,
  fr: fr,
  es: es,
  'zh-CN': zhCN,
};

export const formatDate = (date: Date, formatString: string, language: string) => {
  const locale = locales[language] || locales.en;
  return format(date, formatString, { locale });
};

export const formatGameTime = (seconds: number, language: string): string => {
  const hours = Math.floor(seconds / 3600);
  const minutes = Math.floor((seconds % 3600) / 60);
  const secs = seconds % 60;

  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤—Ä–µ–º–µ–Ω–∏
  if (hours > 0) {
    return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  }
  return `${minutes}:${secs.toString().padStart(2, '0')}`;
};
```

### –ß–∏—Å–ª–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

```typescript
// src/localization/utils/numberFormatting.ts
export const formatNumber = (number: number, language: string): string => {
  return new Intl.NumberFormat(language).format(number);
};

export const formatGameStats = (stats: GameStats, language: string) => {
  return {
    gamesPlayed: formatNumber(stats.gamesPlayed, language),
    winRate: `${(stats.winRate * 100).toFixed(1)}%`,
    averageTime: formatGameTime(stats.averageTime, language),
    bestTime: formatGameTime(stats.bestTime, language),
  };
};
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

### –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```typescript
// __tests__/localization/translations.test.ts
describe('Translation completeness', () => {
  test('all languages have same keys', () => {
    const enKeys = Object.keys(enTranslations.common);
    const ruKeys = Object.keys(ruTranslations.common);

    expect(ruKeys).toEqual(expect.arrayContaining(enKeys));
    expect(enKeys).toEqual(expect.arrayContaining(ruKeys));
  });

  test('pluralization works correctly', () => {
    i18n.changeLanguage('ru');

    expect(i18n.t('game:time.minutes', { count: 1 })).toBe('1 –º–∏–Ω—É—Ç–∞');
    expect(i18n.t('game:time.minutes', { count: 2 })).toBe('2 –º–∏–Ω—É—Ç—ã');
    expect(i18n.t('game:time.minutes', { count: 5 })).toBe('5 –º–∏–Ω—É—Ç');
  });
});
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

```typescript
// __tests__/localization/integration.test.ts
describe('Localization integration', () => {
  test('language switching updates UI', async () => {
    const { getByText } = render(<App />);

    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ —Ä—É—Å—Å–∫–∏–π
    await switchLanguage('ru');
    expect(getByText('–ù–æ–≤–∞—è –∏–≥—Ä–∞')).toBeTruthy();

    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
    await switchLanguage('en');
    expect(getByText('New Game')).toBeTruthy();
  });
});
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —è–∑—ã–∫–æ–≤

```typescript
// src/localization/analytics.ts
export const trackLanguageUsage = (language: string) => {
  Analytics.track('language_selected', {
    language,
    previousLanguage: getCurrentLanguage(),
    timestamp: Date.now(),
  });
};

export const trackTranslationMissing = (key: string, language: string) => {
  if (__DEV__) {
    console.warn(`Missing translation: ${key} for language: ${language}`);
  }

  Analytics.track('translation_missing', {
    key,
    language,
    timestamp: Date.now(),
  });
};
```

---

## üöÄ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (Sprint 1-2)
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ i18next
- [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
- [x] –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥—ã
- [x] –ë–∞–∑–æ–≤—ã–µ —Ö—É–∫–∏ –∏ —É—Ç–∏–ª–∏—Ç—ã
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### –§–∞–∑–∞ 2: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (Sprint 3-4)
- [ ] –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç –∏ —á–∏—Å–µ–ª
- [ ] –ü–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è workflow –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏

### –§–∞–∑–∞ 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —è–∑—ã–∫–∏ (Post-launch)
- [ ] –ù–µ–º–µ—Ü–∫–∏–π, —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π, –∏—Å–ø–∞–Ω—Å–∫–∏–π
- [ ] –ö–∏—Ç–∞–π—Å–∫–∏–π —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π
- [ ] –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–æ–≤

### –§–∞–∑–∞ 4: RTL –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (–ë—É–¥—É—â–µ–µ)
- [ ] –ê—Ä–∞–±—Å–∫–∏–π –∏ –∏–≤—Ä–∏—Ç
- [ ] RTL layout —Å–∏—Å—Ç–µ–º–∞
- [ ] RTL —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìö –†–µ—Å—É—Ä—Å—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –í–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **i18next**: –æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
- **react-i18next**: React Native –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **date-fns**: –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞—Ç
- **Intl API**: –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [i18next documentation](https://www.i18next.com/)
- [React Native Internationalization](https://reactnative.dev/docs/localization)
- [Apple Localization Guide](https://developer.apple.com/localization/)
- [Android Localization Guide](https://developer.android.com/guide/topics/resources/localization)

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### MVP –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:
- [x] –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–∞
- [x] –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∏ —Ä—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥—ã –≥–æ—Ç–æ–≤—ã
- [x] i18next –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- [x] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] TypeScript —Ç–∏–ø—ã —Å–æ–∑–¥–∞–Ω—ã

### Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:
- [ ] –í—Å–µ –∏–≥—Ä–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã
- [ ] –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç/–≤—Ä–µ–º–µ–Ω–∏ –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [ ] –ü–ª—é—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
- [ ] Performance –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω (lazy loading)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 19 —Å–µ–Ω—Ç—è–±—Ä—è 2025